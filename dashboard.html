<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DeltaBuddy Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const token = localStorage.getItem('token');
    if (!token) {
      window.location.href = 'login.html';
    }
  </script>
</head>
<body>

<!-- ‚úÖ Login protection -->
<script>
  const token = localStorage.getItem('token');
  if (!token) {
    window.location.href = 'login.html';
  }
</script>
<div class="layout">
  <aside>
    <a href="index.html">
      <img src="assets/deltabuddy-logo.png" alt="DeltaBuddy Logo" />
    </a>
    <nav>
      <ul>
        <li><a href="dashboard.html" class="active">Dashboard</a></li>
        <li><a href="portfolio.html">Portfolio</a></li>
        <li><a href="greeks-alerts.html">Greeks & Alerts</a></li>
        <li><a href="strategy-assistant.html">Strategy Assistant</a></li>
        <li><a href="adjustment-bot.html">Adjustment Bot</a></li>
        <li><a href="risk-coach.html">Risk Coach</a></li>
        <li><a href="fno.html">Future & Options</a></li>
        <li><a href="fii-dii.html">FII & DII</a></li>
        <li><a href="events.html">Events</a></li>
        <li><a href="screener.html">Screener</a></li>
        <li><a href="telegram.html">Telegram Integration</a></li>
        <li style="margin-top: 1rem;">
          <button onclick="handleLogout()" style="background:none; border:none; color:white; cursor:pointer; padding:0; font: inherit; text-align: left;">Logout</button>
        </li>
      </ul>
    </nav>
  </aside>

  <main>
    <h1>Welcome to DeltaBuddy</h1>
    <p>This is your personalized AI + SaaS dashboard.</p>
    <!-- Market Overview Ticker -->
    <h2 style="margin-top: 1rem;">Global Indices Snapshot</h2>
    <div class="ticker-wrap">
      <div class="ticker global">
        <div class="ticker-item">üìä India VIX: 13.45</div>
        <div class="ticker-item">üìà NIFTY 50: 22,510</div>
        <div class="ticker-item">üè¶ BANKNIFTY: 48,120</div>
        <div class="ticker-item">üá∫üá∏ DOW JONES: 38,150</div>
        <div class="ticker-item">üá∫üá∏ NASDAQ: 16,920</div>
        <div class="ticker-item">üá©üá™ DAX: 18,800</div>
      </div>
    </div>

    <!-- F&O Stocks Ticker -->
    <h2 style="margin-top: 1rem;">F&O Stocks Snapshot</h2>
    <div class="ticker-wrap">
      <div class="ticker fno">
        <div class="ticker-item">üìà RELIANCE: ‚Çπ2,700 <span class="positive">(+1.2%)</span></div>
        <div class="ticker-item">üìâ INFY: ‚Çπ1,500 <span class="negative">(-0.8%)</span></div>
        <div class="ticker-item">üìà HDFC BANK: ‚Çπ1,580 <span class="positive">(+1.6%)</span></div>
        <div class="ticker-item">üìâ TCS: ‚Çπ3,250 <span class="negative">(-0.5%)</span></div>
        <div class="ticker-item">üìà ICICI BANK: ‚Çπ960 <span class="positive">(+2.1%)</span></div>
        <div class="ticker-item">üìâ SBIN: ‚Çπ590 <span class="negative">(-1.1%)</span></div>
      </div>
    </div>

    <!-- Top Movers -->
    <h2 style="margin-top: 2rem;">Top Movers</h2>
    <div class="grid">
      <div class="card">
        <h3>Top Movers</h3>
        <table>
          <thead>
            <tr>
              <th>Symbol</th>
              <th>LTP</th>
              <th>% Change</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>RELIANCE</td>
              <td>‚Çπ2,700</td>
              <td style="color:green;">+1.2%</td>
            </tr>
            <tr>
              <td>INFY</td>
              <td>‚Çπ1,500</td>
              <td style="color:red;">-0.8%</td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- Top Gainers -->
      <div class="card">
        <h3>Top Gainers</h3>
        <table>
          <thead>
            <tr>
              <th>Symbol</th>
              <th>LTP</th>
              <th>% Change</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>ICICI BANK</td><td>‚Çπ960</td><td style="color:green;">+2.1%</td></tr>
            <tr><td>HDFC BANK</td><td>‚Çπ1,580</td><td style="color:green;">+1.6%</td></tr>
            <tr><td>RELIANCE</td><td>‚Çπ2,700</td><td style="color:green;">+1.2%</td></tr>
            <tr><td>ITC</td><td>‚Çπ460</td><td style="color:green;">+1.0%</td></tr>
            <tr><td>AXIS BANK</td><td>‚Çπ980</td><td style="color:green;">+0.9%</td></tr>
          </tbody>
        </table>
      </div>

      <!-- Top Losers -->
      <div class="card">
        <h3>Top Losers</h3>
        <table>
          <thead>
            <tr>
              <th>Symbol</th>
              <th>LTP</th>
              <th>% Change</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>SBIN</td><td>‚Çπ590</td><td style="color:red;">-1.1%</td></tr>
            <tr><td>INFY</td><td>‚Çπ1,500</td><td style="color:red;">-0.8%</td></tr>
            <tr><td>WIPRO</td><td>‚Çπ460</td><td style="color:red;">-0.6%</td></tr>
            <tr><td>TCS</td><td>‚Çπ3,250</td><td style="color:red;">-0.5%</td></tr>
            <tr><td>BAJAJ AUTO</td><td>‚Çπ5,200</td><td style="color:red;">-0.3%</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- AI-Powered Tools -->
    <h2 style="margin-top: 2rem;">AI-Powered Tools</h2>
    <div class="grid">
      <div class="card">
        <h3>Strategy Assistant (DeltaGPT)</h3>
        <p>AI-generated options strategies based on market conditions.</p>
        <p><em>Coming soon: Interactive chat-based strategy builder.</em></p>
      </div>
      <div class="card">
        <h3>Adjustment Bot</h3>
        <p>Auto-monitor and adjust your trades based on delta shifts or VIX spikes.</p>
        <p><em>Coming soon: Live adjustment signals with Telegram alerts.</em></p>
      </div>
    </div>

    <!-- Behavior & Risk Insights -->
    <h2 style="margin-top: 2rem;">Behavior & Risk Insights</h2>
    <div class="grid">
      <div class="card">
        <h3>Risk Coach</h3>
        <p>Receive behavioral insights and warnings like overtrading or under-hedging.</p>
        <p><em>Coming soon: Personalized risk score and coaching tips.</em></p>
      </div>
      <div class="card">
        <h3>Future & Options Tools</h3>
        <p>OI, IV charts, intraday buildup, heatmaps, and more.</p>
        <p><em>Coming soon: Advanced F&O analytics dashboard.</em></p>
      </div>
      <div class="card">
        <h3>Events Calendar</h3>
        <p>FOMC, GDP, RBI decisions with impact tags on strategy alerts.</p>
        <a href="events.html" style="color: #3b82f6; text-decoration: none; font-weight: bold;">View Events ‚Üí</a>
      </div>
      <div class="card">
        <h3>FII & DII Activity</h3>
        <p>Track FII & DII cash and derivatives activity to assess market sentiment.</p>
        <a href="fii-dii.html" style="color: #3b82f6; text-decoration: none; font-weight: bold;">View FII/DII Activity ‚Üí</a>
      </div>
    </div>
  </main>
</div>
<!-- üìà Chart Scripts -->
<script>
  const ctxPulse = document.getElementById('marketPulseChart')?.getContext('2d');
  if (ctxPulse) {
    new Chart(ctxPulse, {
      type: 'line',
      data: {
        labels: ['Day -6', 'Day -5', 'Day -4', 'Day -3', 'Day -2', 'Yesterday', 'Today'],
        datasets: [
          {
            label: 'PCR Trend',
            data: [1.02, 1.05, 1.10, 1.08, 0.95, 0.98, 0.92],
            borderColor: '#3b82f6',
            backgroundColor: 'transparent',
            tension: 0.4,
            fill: false
          },
          {
            label: 'VIX',
            data: [14.5, 15.2, 16.0, 15.7, 15.0, 16.5, 19.2],
            borderColor: '#ef4444',
            backgroundColor: 'transparent',
            tension: 0.4,
            fill: false
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            labels: { color: '#e0f2fe' }
          }
        },
        scales: {
          x: { ticks: { color: '#cbd5e1' } },
          y: { ticks: { color: '#cbd5e1' }, beginAtZero: false }
        }
      }
    });
  }

  const ctxGreeks = document.getElementById('liveGreeksChart')?.getContext('2d');
  if (ctxGreeks) {
    new Chart(ctxGreeks, {
      type: 'line',
      data: {
        labels: ['T-6', 'T-5', 'T-4', 'T-3', 'T-2', 'T-1', 'Today'],
        datasets: [
          {
            label: 'Delta',
            data: [0.3, 0.35, 0.4, 0.38, 0.36, 0.42, 0.45],
            borderColor: '#10b981',
            backgroundColor: 'transparent',
            tension: 0.4,
            fill: false
          },
          {
            label: 'Gamma',
            data: [5.2, 5.5, 5.8, 6.0, 5.9, 6.1, 6.3],
            borderColor: '#f59e0b',
            backgroundColor: 'transparent',
            tension: 0.4,
            fill: false
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            labels: { color: '#e0f2fe' }
          }
        },
        scales: {
          x: { ticks: { color: '#cbd5e1' } },
          y: { ticks: { color: '#cbd5e1' }, beginAtZero: false }
        }
      }
    });
  }
</script>
<!-- üîì Logout Function -->
<script>
  function handleLogout() {
    localStorage.removeItem('token');
    window.location.href = 'login.html';
  }
</script>

<footer>
  <p>¬© 2025 DeltaBuddy. All rights reserved.</p>
  <p><strong>Disclaimer:</strong> We are not SEBI registered. We believe in Paper Trading first. Before investing, please consult your financial advisor first.</p>
  <p>
    <a href="mailto:contact@deltabuddy.com">contact@deltabuddy.com</a> |
    <a href="https://t.me/DeltaBuddyBot">Telegram</a> |
    <a href="index.html">Home</a>
  </p>
</footer>

</body>
</html>
